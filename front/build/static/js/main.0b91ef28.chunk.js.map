{"version":3,"sources":["logo.svg","components/CategoryForm.js","components/CategoriesList.js","components/ArticleForm.js","components/Article.js","components/ArticlesListByCat.js","components/Home.js","components/EditArticleForm.js","App.js","reportWebVitals.js","index.js"],"names":["CategoryForm","elements","setElements","useState","inputName","setInputName","inputImage","setInputImage","id","className","for","type","onChange","event","target","value","onClick","e","preventDefault","alert","filter","element","name","length","image","recorded","slug","slugify","axios","post","then","response","console","log","data","CategoriesList","map","category","href","src","alt","ArticleForm","articles","setArticles","inputTitle","setInputTitle","inputAuthor","setInputAuthor","inputText","setInputText","version","setVersion","title","author","text","categoryid","_id","window","location","Article","article","checkArticle","lastVersion","setLastVersion","children","delete","document","reload","archive","indexOf","icon","faSearch","put","faDownload","ArticlesListByCat","useEffect","getArticles","a","fetch","json","reverse","Home","EditArticleForm","pop","prev_version","history","back","App","url","isCategoryPage","includes","isArticlePage","array","split","getCategory","logo","to","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0b91ef28.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport slugify from 'react-slugify';\r\n\r\nfunction CategoryForm({ elements, setElements }) {\r\n    const [inputName, setInputName] = useState(\"\");\r\n    const [inputImage, setInputImage] = useState(\"\");\r\n\r\n    const submitCat = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (inputName === '') {\r\n            alert('Veuillez entrer un nom de catégorie')\r\n        } else {\r\n            var check_category = elements.filter(element => (element.name == inputName));\r\n            if (check_category.length > 0) {\r\n                alert('Cette catégorie existe déjà')\r\n            }else{                \r\n                setElements([...elements, { name: inputName, image: inputImage }])\r\n                const recorded = {\r\n                    name: inputName,\r\n                    image: inputImage,\r\n                    slug: slugify(inputName)\r\n                }\r\n                axios.post('/categories/new', recorded)\r\n                    .then(response => console.log(response.data))\r\n                setInputName('')\r\n                setInputImage('')\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form id=\"formList\" className=\"d-flex\">\r\n                <div className=\"mb-3 d-flex col-md-5 justify-content-around\">\r\n                    <label for=\"name\" className=\"form-label \">Nom :</label>\r\n                    <input type=\"text\" id=\"name\" onChange={(event) => setInputName(event.target.value)} value={inputName} className=\"form-control\" />\r\n                </div>\r\n                <div className=\"mb-3 d-flex col-md-5 justify-content-around\">\r\n                    <label for=\"image\" className=\"form-label \">Image :</label>\r\n                    <input type=\"text\" id=\"image\" onChange={(event) => setInputImage(event.target.value)} value={inputImage} className=\"form-control\" />\r\n                </div>\r\n                <div className=\"mb-3 d-flex col-md-2\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\" onClick={submitCat} >Ajouter</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default CategoryForm;","import React, { useState } from 'react';\r\nimport CategoryForm from './CategoryForm';\r\n\r\nfunction CategoriesList({ elements, setElements }) {\r\n  const [catUrl, setCatUrl] = useState(\"\");\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"mb-5\" >Liste des catégories :</h2>\r\n      <div className=\"d-flex flex-wrap bg-light rounded p-5\">\r\n\r\n        {(elements.length > 0) ?\r\n          elements.map(category => (\r\n            <a href={\"/category/\" + category.slug} className=\"linkCat\"   >\r\n              <figure className=\"cat\" key={category.id}  >\r\n                <img src={category.image} alt={category.name} />\r\n                <figcaption>\r\n                  {category.name}\r\n                </figcaption>\r\n              </figure>\r\n            </a>\r\n          ))\r\n          : <p>Il n'y a pas encore de catégories</p>\r\n        }\r\n      </div>\r\n\r\n      <h4 className=\"mb-5\">Ajouter une catégorie</h4>\r\n      <CategoryForm elements={elements} setElements={setElements} />\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default CategoriesList;","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport slugify from 'react-slugify';\r\n\r\nfunction ArticleForm({ category, articles, setArticles }) {\r\n\r\n    const [inputTitle, setInputTitle] = useState(\"\");\r\n    const [inputAuthor, setInputAuthor] = useState(\"\");\r\n    const [inputText, setInputText] = useState(\"\");\r\n    const [version, setVersion] = useState(\"\");\r\n\r\n    const submitArticle = (e) => {\r\n        e.preventDefault();\r\n        if (inputTitle === '') {\r\n            alert('Veuillez entrer un titre')\r\n        } else {\r\n            setVersion({ title: inputTitle, author: inputAuthor, text: inputText })\r\n            setArticles([...articles, { title: inputTitle, author: inputAuthor, text: inputText, categoryid: category._id, version: version }])\r\n            const recorded = {\r\n                title: inputTitle,\r\n                author: inputAuthor,\r\n                text: inputText,\r\n                categoryid: category._id,\r\n                slug: slugify(inputTitle),\r\n                version: { title: inputTitle, author: inputAuthor, text: inputText, slug: slugify(inputTitle) }\r\n            }\r\n            axios.post('/articles/new', recorded)\r\n                .then(response => console.log(response.data))\r\n            setInputTitle('')\r\n            setInputAuthor('')\r\n            setInputText('')\r\n            window.location.href = \"/category/\" + category.name;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form id=\"formListArticle\" className=\"\">\r\n                <div className=\"row\">\r\n                    <div className=\"mb-3 d-flex col-md-8 justify-content-between\">\r\n                        <label for=\"title\" className=\"form-label \">Titre :</label>\r\n                        <input type=\"text\" id=\"title\" onChange={(event) => setInputTitle(event.target.value)} value={inputTitle} className=\"form-control\" />\r\n                    </div>\r\n                    <div className=\"mb-3 d-flex col-md-4 justify-content-between\">\r\n                        <label for=\"author\" className=\"form-label \">Auteur :</label>\r\n                        <input type=\"text\" id=\"author\" onChange={(event) => setInputAuthor(event.target.value)} value={inputAuthor} className=\"form-control\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"mb-3 d-flex justify-content-between\">\r\n                        <label for=\"text\" className=\"form-label \">Markdown :</label>\r\n                        <textarea id=\"text\" onChange={(event) => setInputText(event.target.value)} value={inputText} className=\"form-control\"></textarea>\r\n                    </div>\r\n                </div>\r\n                <div className=\"mb-3 d-flex justify-content-center\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\" onClick={submitArticle} >Ajouter</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ArticleForm;","import React, { useState, useEffect } from 'react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport axios from 'axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/fontawesome-free-solid'\r\nimport { faDownload } from '@fortawesome/fontawesome-free-solid'\r\nimport { faTrashAlt } from '@fortawesome/fontawesome-free-solid'\r\n\r\n\r\nfunction Article({ article }) {\r\n    var restored = '';\r\n    // array.push(array.splice(array.indexOf(element), 1)[0]);\r\n    // colors.push(colors.splice(colors.indexOf('blue'), 1).pop());\r\n    var checkArticle = article.version[article.version.length - 1];\r\n    // if (article.version.length > 1) {\r\n    //     checkArticle = article.version.pop()\r\n    // } else {\r\n    //     checkArticle = article.version[0]\r\n    // }\r\n    const [lastVersion, setLastVersion] = useState(checkArticle);\r\n    const version = article.version;\r\n    console.log(version);\r\n\r\n    const deleteArticle = (e) => {\r\n        axios.delete('/articles/' + article._id)\r\n        document.location.reload()\r\n    }\r\n\r\n    const show = (element) => {\r\n        setLastVersion(element);\r\n        document.location.reload()\r\n    }\r\n\r\n    const restore = (element) => {\r\n        axios.put('/articles/edit/' + article._id, element)\r\n            .then(response => {\r\n                document.location.reload()\r\n            })\r\n    }\r\n\r\n    // const deleteVersion = (element) => {\r\n    //     axios.put('/articles/edit-version/' + article._id, element)\r\n    //     document.location.reload()\r\n    // }\r\n\r\n\r\n    return (\r\n        <div className=\"border border-secondary rounded\">\r\n            <h2 className=\"text-start title\">{lastVersion.title}</h2>\r\n            <div className=\"d-flex\">\r\n                <div className=\"markdown col-md-9 p-2\">\r\n                    <ReactMarkdown children={lastVersion.text} />\r\n                </div>\r\n                <div className=\"col-md-3 border-start\">\r\n                    <div className=\"d-flex justify-content-around mb-2\">\r\n                        <a className=\"btn btn-info\" href={'/article/edit/' + article._id}>Editer</a>\r\n                        <button type=\"button\" className=\"btn btn-secondary\" onClick={deleteArticle} >Supprimer</button>\r\n                    </div>\r\n                    <div className=\"border border-1 rounded-top\">\r\n                        <h6 className=\"mt-2\">Archives</h6>\r\n                        <ul className=\"list-group\">\r\n                            {(version.length > 0) ?\r\n                                version.map(archive => (\r\n                                    <li className=\"d-flex list-group-item justify-content-between\">\r\n                                        <span className=\"text-left\">V.{version.indexOf(archive)} - {archive.title}</span>\r\n                                        <div>\r\n                                            <a href=\"#\" onClick={() => show(archive)} className=\"mx-2\" title=\"Voir\"><FontAwesomeIcon icon={faSearch} /></a>\r\n                                            <a href=\"#\" onClick={() => restore(archive)} className=\"mx-2\" title=\"Restaurer\"><FontAwesomeIcon icon={faDownload} /></a>\r\n                                            {/* <a href=\"#\" onClick={() => deleteVersion(archive)}className=\"mx-2\" title=\"Supprimer\"><FontAwesomeIcon icon={faTrashAlt} /></a> */}\r\n                                        </div>\r\n                                    </li>\r\n                                ))\r\n                                : <li>Pas de version antérieure</li>\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default Article;","import React, { useEffect, useState } from 'react';\r\nimport ArticleForm from './ArticleForm';\r\nimport Article from './Article';\r\n\r\nfunction ArticlesListByCat({ elements, category }) {\r\n\r\n const [articles, setArticles] = useState([]);\r\n  useEffect(() => {\r\n    getArticles();\r\n  }, []);\r\n\r\n  const getArticles = async () => {\r\n    var response = await fetch('/articles/' + category._id);\r\n    var data = await response.json();\r\n    data = data.reverse();\r\n    setArticles(data)\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>{category.name}</h2>\r\n      <figure key={category.id}  >\r\n        <img className=\"catImage\" src={category.image} alt={category.name} />\r\n      </figure>\r\n      <div>\r\n        {(articles.length > 0) ?\r\n          articles.map(article => (\r\n            <Article article={article} />\r\n          ))\r\n          : <p>Il n'y a pas encore d'article dans cette catégorie</p>\r\n        }\r\n\r\n        <h4>Ajouter un article</h4>\r\n        <ArticleForm category={category} articles={articles} setArticles={setArticles} />\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\n\r\nexport default ArticlesListByCat;\r\n","import React from 'react';\r\n\r\nfunction Home({slug}) {\r\n    \r\n    return (        \r\n        <div>\r\n            <h2>Accueil</h2>\r\n        </div>\r\n    )\r\n}\r\nexport default Home;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport slugify from 'react-slugify';\r\n\r\nfunction EditArticleForm({ category, articles, setArticles, article }) {\r\n    const [version, setVersion] = useState(article.version.pop())\r\n    // const lastVersion = article.version.pop()\r\n    const [inputTitle, setInputTitle] = useState(version.title);\r\n    const [inputAuthor, setInputAuthor] = useState(version.author);\r\n    const [inputText, setInputText] = useState(version.text);\r\n    // const [articleToEdit, setArticleToEdit]=useState(article);\r\n\r\n    const submitEditArticle = (e) => {\r\n        e.preventDefault();\r\n\r\n        setVersion({ title: inputTitle, author: inputAuthor, text: inputText })\r\n        const prev_version = {\r\n            title: inputTitle,\r\n            author: inputAuthor,\r\n            text: inputText,\r\n            slug: slugify(inputTitle)\r\n        }\r\n\r\n        setVersion(prev_version);\r\n        // console.log(prev_version);\r\n        // const dataUpdate = {\r\n        //     title: version.title,\r\n        //     author: version.author,\r\n        //     text: version.text,\r\n        //     slug: slugify(version.title)\r\n        // }\r\n        // console.log(dataUpdate);\r\n        // console.log(category.slug);\r\n        axios.put('/articles/edit/' + article._id, prev_version)\r\n            .then(response => {\r\n                window.history.back()\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form id=\"formListArticle\" className=\"\">\r\n                <div className=\"row\">\r\n                    <div className=\"mb-3 d-flex col-md-8 justify-content-between\">\r\n                        <label for=\"title\" className=\"form-label \">Titre :</label>\r\n                        <input type=\"text\" id=\"title\" onChange={(event) => setInputTitle(event.target.value)} value={inputTitle} className=\"form-control\" />\r\n                    </div>\r\n                    <div className=\"mb-3 d-flex col-md-4 justify-content-between\">\r\n                        <label for=\"author\" className=\"form-label \">Auteur :</label>\r\n                        <input type=\"text\" id=\"author\" onChange={(event) => setInputAuthor(event.target.value)} value={inputAuthor} className=\"form-control\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"mb-3 d-flex justify-content-between\">\r\n                        <label for=\"text\" className=\"form-label \">Markdown :</label>\r\n                        <textarea id=\"text\" onChange={(event) => setInputText(event.target.value)} value={inputText} className=\"form-control\"></textarea>\r\n                    </div>\r\n                </div>\r\n                <div className=\"mb-3 d-flex justify-content-center\">\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={submitEditArticle} >Modifier</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default EditArticleForm;","import logo from './logo.svg';\r\nimport React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport CategoriesList from './components/CategoriesList';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport ArticlesListByCat from './components/ArticlesListByCat';\r\nimport Home from './components/Home';\r\nimport EditArticleForm from './components/EditArticleForm';\r\n\r\nfunction App() {\r\n  const [elements, setElements] = useState([]);\r\n  const [articles, setArticles] = useState([]);\r\n  var url = window.location.href;\r\n  var isCategoryPage = url.includes('category');\r\n  var isArticlePage = url.includes('article/edit');\r\n  var slug = '';\r\n  var articleToEdit = '';\r\n  var array = url.split(\"/\");\r\n  if (isCategoryPage == true) {\r\n    slug = array.pop();\r\n  } else if (isArticlePage == true) {\r\n    articleToEdit = array.pop();\r\n  }\r\n  useEffect(() => {\r\n    getCategory();\r\n  }, []);\r\n\r\n  const getCategory = async () => {\r\n    var response = await fetch('http://localhost:5000/categories/');\r\n    var data = await response.json();\r\n    setElements(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getArticles();\r\n  }, []);\r\n\r\n  const getArticles = async () => {\r\n    var response = await fetch('http://localhost:5000/articles/');\r\n    var data = await response.json();\r\n    setArticles(data);\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"App container\">\r\n      <Router>\r\n        <header >\r\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n          <ul className=\"nav justify-content-center\">\r\n            <li className=\"nav-item\"><a href=\"/home\" className=\"nav-link\">Accueil</a></li>\r\n            <li className=\"nav-item\" ><Link to=\"/categories-list\" className=\"nav-link\">Liste</Link></li>\r\n          </ul>\r\n        </header>\r\n        <Switch>\r\n          <Route path=\"/home\" exact>\r\n            <Home/>\r\n          </Route>\r\n          <Route path=\"/categories-list\" exact>\r\n            <CategoriesList elements={elements} setElements={setElements} />\r\n          </Route>\r\n          {elements.map(category => (\r\n            <Route path={\"/category/\" + category.slug} exact>\r\n              <ArticlesListByCat elements={elements} category={category} />\r\n            </Route>\r\n          ))}\r\n\r\n          {articles.map(article => (\r\n            <Route path={\"/article/edit/\" + article._id} exact>\r\n              <h2>Modifier Article</h2>\r\n              <EditArticleForm article={article} />\r\n            </Route>\r\n          ))}\r\n\r\n\r\n        </Switch>\r\n      </Router>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}
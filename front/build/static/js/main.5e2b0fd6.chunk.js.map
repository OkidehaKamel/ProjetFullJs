{"version":3,"sources":["logo.svg","components/CategoryForm.js","components/CategoriesList.js","components/ArticleForm.js","components/Article.js","components/ArticlesListByCat.js","components/EditArticleForm.js","App.js","reportWebVitals.js","index.js"],"names":["CategoryForm","elements","setElements","useState","inputName","setInputName","inputImage","setInputImage","id","className","for","type","onChange","event","target","value","onClick","e","preventDefault","alert","filter","element","name","length","image","recorded","slug","slugify","axios","post","then","response","console","log","data","CategoriesList","map","category","href","src","alt","ArticleForm","articles","setArticles","inputTitle","setInputTitle","inputAuthor","setInputAuthor","inputText","setInputText","version","setVersion","title","author","text","categoryid","_id","window","location","Article","article","lastVersion","pop","children","archive","indexOf","ArticlesListByCat","useEffect","getArticles","a","fetch","json","reverse","EditArticleForm","prev_version","dataUpdate","put","document","reload","catch","error","App","url","isCategoryPage","includes","isArticlePage","array","split","getCategory","logo","to","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5e2b0fd6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport slugify from 'react-slugify';\r\n\r\nfunction CategoryForm({ elements, setElements }) {\r\n    const [inputName, setInputName] = useState(\"\");\r\n    const [inputImage, setInputImage] = useState(\"\");\r\n\r\n    const submitCat = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (inputName === '') {\r\n            alert('Veuillez entrer un nom de catégorie')\r\n        } else {\r\n            var check_category = elements.filter(element => (element.name == inputName));\r\n            if (check_category.length > 0) {\r\n                alert('Cette catégorie existe déjà')\r\n            }else{                \r\n                setElements([...elements, { name: inputName, image: inputImage }])\r\n                const recorded = {\r\n                    name: inputName,\r\n                    image: inputImage,\r\n                    slug: slugify(inputName)\r\n                }\r\n                axios.post('/categories/new', recorded)\r\n                    .then(response => console.log(response.data))\r\n                setInputName('')\r\n                setInputImage('')\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form id=\"formList\" className=\"d-flex\">\r\n                <div className=\"mb-3 d-flex col-md-5 justify-content-around\">\r\n                    <label for=\"name\" className=\"form-label \">Nom :</label>\r\n                    <input type=\"text\" id=\"name\" onChange={(event) => setInputName(event.target.value)} value={inputName} className=\"form-control\" />\r\n\r\n                </div>\r\n                <div className=\"mb-3 d-flex col-md-5 justify-content-around\">\r\n                    <label for=\"image\" className=\"form-label \">Image :</label>\r\n                    <input type=\"text\" id=\"image\" onChange={(event) => setInputImage(event.target.value)} value={inputImage} className=\"form-control\" />\r\n\r\n                </div>\r\n                <div className=\"mb-3 d-flex col-md-2\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\" onClick={submitCat} >Ajouter</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n// class CategoryForm extends Component {\r\n//     constructor() {\r\n//         super()\r\n//         this.state = {\r\n//             name: '',\r\n//             image: ''\r\n//         }\r\n//         this.changeName=this.changeName.bind(this)\r\n//         this.changeImage=this.changeImage.bind(this)\r\n//         this.onSubmit=this.onSubmit.bind(this)\r\n//     }\r\n\r\n//     changeName(e){\r\n//         this.setState({\r\n//             name:e.target.value\r\n//         })\r\n//     }\r\n//     changeImage(e){\r\n//         this.setState({\r\n//             image:e.target.value\r\n//         })\r\n//     }\r\n\r\n//     onSubmit(e){\r\n//         e.preventDefault()\r\n//         const recorded ={\r\n//             name:this.state.name,\r\n//             image:this.state.image\r\n//         }\r\n//         axios.post('/categories/new',recorded)\r\n//         .then(response=> console.log(response.data))\r\n//         this.setState({\r\n//             name: '',\r\n//             image: ''\r\n//         })\r\n//         window.location = '/categories'\r\n//         // window.history.back()\r\n\r\n//     }\r\n//     render() {\r\n//         return (\r\n//             <div>\r\n//                 <form id=\"formList\" className=\"d-flex\"onSubmit={this.onSubmit}>\r\n//                     <div className=\"mb-3 d-flex col-md-5 justify-content-around\">\r\n//                         <label for=\"name\" className=\"form-label \">Nom :</label>\r\n//                         <input type=\"text\" id=\"name\" onChange={this.changeName} value={this.state.name} className=\"form-control\" />                        \r\n//                     </div>\r\n//                     <div className=\"mb-3 d-flex col-md-5 justify-content-around\">\r\n//                         <label for=\"image\" className=\"form-label \">Image :</label>\r\n//                         <input type=\"text\" id=\"image\" onChange={this.changeImage} value={this.state.image} className=\"form-control\" /> \r\n//                     </div>\r\n//                     <div  className=\"mb-3 d-flex col-md-2\">\r\n//                         <button type=\"submit\" className=\"btn btn-primary\" id=\"addTask\" className=\"\" >Ajouter</button>\r\n//                     </div>                    \r\n//                 </form>\r\n//             </div>\r\n//         )\r\n//     }\r\n// }\r\n\r\nexport default CategoryForm;","import React, { useState } from 'react';\r\nimport CategoryForm from './CategoryForm';\r\n\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\n\r\n\r\nfunction CategoriesList({ elements, setElements }) {\r\n  const [catUrl, setCatUrl] = useState(\"\");\r\n  // const getPage=(slug)=>{\r\n  //     // e.preventDefault();\r\n  //     // setCatUrl(e.target.to)\r\n  //     // console.log(slug)\r\n  //     // if(slug!=''){\r\n  //     //     window.location(\"/\"+slug);\r\n  //     // }\r\n\r\n  // }\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"mb-5\" >Liste des catégories :</h2>\r\n      <div className=\"d-flex flex-wrap bg-light rounded p-5\">\r\n\r\n        {(elements.length > 0) ?\r\n\r\n          elements.map(category => (\r\n            <a href={\"/category/\" + category.slug} className=\"linkCat\"   >\r\n              <figure className=\"cat\" key={category.id}  >\r\n                <img src={category.image} alt={category.name} />\r\n                <figcaption>\r\n                  {category.name}\r\n                </figcaption>\r\n              </figure>\r\n            </a>\r\n          ))\r\n          : <p>Il n'y a pas encore de catégories</p>\r\n        }\r\n\r\n      </div>\r\n\r\n      <h4 className=\"mb-5\">Ajouter une catégorie</h4>\r\n      <CategoryForm elements={elements} setElements={setElements} />\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default CategoriesList;","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport slugify from 'react-slugify';\r\n\r\nfunction ArticleForm({ category, articles, setArticles }) {\r\n\r\n    const [inputTitle, setInputTitle] = useState(\"\");\r\n    const [inputAuthor, setInputAuthor] = useState(\"\");\r\n    const [inputText, setInputText] = useState(\"\");\r\n    const [version,setVersion]=useState(\"\");\r\n\r\n\r\n    const submitArticle = (e) => {\r\n        e.preventDefault();\r\n        if (inputTitle === '') {\r\n            alert('Veuillez entrer un titre')\r\n        } else {\r\n            setVersion({ title: inputTitle, author: inputAuthor, text: inputText })\r\n            setArticles([...articles, { title: inputTitle, author: inputAuthor, text: inputText, categoryid: category._id,version:version }])\r\n            const recorded = {\r\n                title: inputTitle,\r\n                author: inputAuthor,\r\n                text: inputText,\r\n                categoryid: category._id,\r\n                slug: slugify(inputTitle),\r\n                version:{title: inputTitle,author: inputAuthor,text: inputText,slug: slugify(inputTitle)}\r\n            }\r\n            axios.post('/articles/new', recorded)\r\n                .then(response => console.log(response.data))\r\n            setInputTitle('')\r\n            setInputAuthor('')\r\n            setInputText('')\r\n            window.location.href = \"/category/\"+category.name;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form id=\"formListArticle\" className=\"\">\r\n                <div className=\"row\">\r\n                    <div className=\"mb-3 d-flex col-md-8 justify-content-between\">\r\n                        <label for=\"title\" className=\"form-label \">Titre :</label>\r\n                        <input type=\"text\" id=\"title\" onChange={(event) => setInputTitle(event.target.value)} value={inputTitle} className=\"form-control\" />\r\n                    </div>\r\n                    <div className=\"mb-3 d-flex col-md-4 justify-content-between\">\r\n                        <label for=\"author\" className=\"form-label \">Auteur :</label>\r\n                        <input type=\"text\" id=\"author\" onChange={(event) => setInputAuthor(event.target.value)} value={inputAuthor} className=\"form-control\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"mb-3 d-flex justify-content-between\">\r\n                        <label for=\"text\" className=\"form-label \">Markdown :</label>\r\n                        <textarea id=\"text\" onChange={(event) => setInputText(event.target.value)} value={inputText} className=\"form-control\"></textarea>\r\n                    </div>\r\n                </div>\r\n                {/* <input type=\"text\" id=\"catID\" value={cat._id} className=\"form-control invisible\" /> */}\r\n                <div className=\"mb-3 d-flex justify-content-center\">\r\n                    \r\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={submitArticle} >Ajouter</button>\r\n                        {/* : <button type=\"submit\" className=\"btn btn-primary\" >Modifier</button> */}\r\n                    \r\n\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ArticleForm;","import React, { useState, useEffect } from 'react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport { render } from 'react-dom';\r\n\r\nfunction Article({ article }) {\r\n    // console.log(article.version.pop());\r\n    var checkArticle = '';\r\n    if (article.version.length > 1) {\r\n        checkArticle = article.version.pop()\r\n    } else {\r\n        checkArticle = article.version[0]\r\n    }\r\n    const lastVersion = checkArticle;\r\n    const version = article.version;\r\n    console.log(version);\r\n\r\n    // React.render(<ReactMarkdown source={article.text} />, document.getElementById('markdown'))\r\n    return (\r\n        <div className=\"border border-secondary rounded\">\r\n            <h2 className=\"text-start title\">{lastVersion.title}</h2>\r\n            <div className=\"d-flex\">\r\n                <div className=\"markdown col-md-10 p-2\">\r\n                    <ReactMarkdown children={lastVersion.text} />\r\n                </div>\r\n                <div className=\"col-md-2 border-start\">\r\n                    <div className=\"d-flex justify-content-around mb-2\">\r\n                        <a className=\"btn btn-info\" href={'/article/edit/' + article._id}>Editer</a>\r\n                        <button className=\"btn btn-secondary\">Supprimer</button>\r\n                    </div>\r\n                    <div className=\"border border-1 rounded-top\">\r\n                        <h6 className=\"mt-2\">Archives</h6>\r\n                        <ul className=\"list-group\">\r\n                            {(version.length > 0) ?\r\n                                version.map(archive => (\r\n                                    <li className=\"list-group-item\">V.{version.indexOf(archive)} - {archive.title}</li>\r\n                                ))\r\n                                : <li>Pas de version antérieure</li>\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default Article;","import React, { useEffect, useState } from 'react';\r\nimport ArticleForm from './ArticleForm';\r\nimport Article from './Article';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\n\r\n// function getArticlesByCat(){\r\n//       fetch('http://localhost:5000/articles/')\r\n//       .then(response => response.json())\r\n//       .then(console.log(response.json()));\r\n// }\r\n\r\nfunction ArticlesListByCat({ elements, category }) {\r\n\r\n const [articles, setArticles] = useState([]);\r\n  useEffect(() => {\r\n    getArticles();\r\n  }, []);\r\n\r\n  const getArticles = async () => {\r\n    var response = await fetch('/articles/' + category._id);\r\n    var data = await response.json();\r\n    data = data.reverse();\r\n    setArticles(data)\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>{category.name}</h2>\r\n      <figure key={category.id}  >\r\n        <img className=\"catImage\" src={category.image} alt={category.name} />\r\n      </figure>\r\n      <div>\r\n        {(articles.length > 0) ?\r\n          articles.map(article => (\r\n            <Article article={article} />\r\n          ))\r\n          : <p>Il n'y a pas encore d'article dans cette catégorie</p>\r\n        }\r\n\r\n        <h4>Ajouter un article</h4>\r\n        <ArticleForm category={category} articles={articles} setArticles={setArticles} />\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\n// class ArticlesListByCat extends React.Component {\r\n//   componentDidMount() {\r\n//     const apiUrl = 'http://localhost:5000/articles/';\r\n//     fetch(apiUrl)\r\n//       .then((response) => response.json())\r\n//       .then((data) => console.log('This is your data', data));\r\n//   }\r\n//   render() {\r\n//     return <h2>my Component has Mounted, Check the browser 'console' </h2>;\r\n//   }\r\n// }\r\n\r\nexport default ArticlesListByCat;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport slugify from 'react-slugify';\r\n\r\nfunction EditArticleForm({ category, articles, setArticles, article }) {\r\n    const [version, setVersion] = useState(article.version.pop())\r\n    const lastVersion = article.version.pop()\r\n    const [inputTitle, setInputTitle] = useState(version.title);\r\n    const [inputAuthor, setInputAuthor] = useState(version.author);\r\n    const [inputText, setInputText] = useState(version.text);\r\n    const [articleToEdit, setArticleToEdit]=useState(article);\r\n    // const [currentVersion,setCurrentVersion] = useState(article.version.pop());\r\n    // const[version,addVersion]=useState(article.version);\r\n\r\n\r\n\r\n    const submitEditArticle = (e) => {\r\n        e.preventDefault();\r\n\r\n        // setArticles([...articles, { title: inputTitle, author: inputAuthor, text: inputText, categoryid: category._id }])\r\n        setVersion({ title: inputTitle, author: inputAuthor, text: inputText })\r\n        const prev_version = {\r\n            title: inputTitle,\r\n            author: inputAuthor,\r\n            text: inputText,\r\n            slug: slugify(inputTitle)\r\n        }\r\n        setVersion(prev_version);\r\n        console.log(prev_version);\r\n        // setArticleToEdit()\r\n        const dataUpdate = {\r\n            // title: inputTitle,\r\n            // author: inputAuthor,\r\n            // text: inputText,\r\n            // categoryid: article.categoryid,\r\n            // slug: slugify(inputTitle)\r\n            title: version.title,\r\n            author: version.author,\r\n            text: version.text,\r\n            slug: slugify(version.title)\r\n        }\r\n        console.log(dataUpdate);\r\n        console.log(article._id);\r\n        axios.put('/articles/edit/' + article._id, prev_version)\r\n            .then(response => {\r\n                console.log(response.data)\r\n                if (response.data) {\r\n                    alert(\"Données modifiées\")\r\n                    document.location.reload()\r\n                    // setInputTitle(version.title)\r\n                    // setInputAuthor(version.author)\r\n                    // setInputText(version.text)\r\n                }\r\n            })\r\n            .catch(error => {\r\n                alert(\"données non modifiées\")\r\n            })\r\n        // setVersion(article.version.push(prev_version))\r\n        // console.log(article.version)\r\n        // useEffect(() => {\r\n        //     // PUT request using axios inside useEffect React hook\r\n        //     const article = { title: 'React Hooks PUT Request Example' };\r\n        //     axios.put('/articles/article/'+article._id, article)\r\n        //         .then(response => console.log(response.data));\r\n\r\n        // // empty dependency array means this effect will only run once (like componentDidMount in classes)\r\n        // }, []);\r\n\r\n        // useEffect(() => {\r\n        // axios.put('/articles/article/'+article._id, article)\r\n        //     .then(response => console.log(response.data));\r\n        // db.animal.update(\r\n        //     { \"_id\": \"100\" },\r\n        //     {\r\n        //         $push: {\r\n        //             animalArray: \"cat\"\r\n        //         }\r\n        //     }\r\n        // );\r\n        // .then(response=>response.data.version);\r\n        // }, []);\r\n\r\n        // setInputTitle('')\r\n        // setInputAuthor('')\r\n        // setInputText('')\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form id=\"formListArticle\" className=\"\">\r\n                <div className=\"row\">\r\n                    <div className=\"mb-3 d-flex col-md-8 justify-content-between\">\r\n                        <label for=\"title\" className=\"form-label \">Titre :</label>\r\n                        <input type=\"text\" id=\"title\" onChange={(event) => setInputTitle(event.target.value)} value={inputTitle} className=\"form-control\" />\r\n                        {/* <input type=\"text\" id=\"title\" onChange={(event) => setInputTitle(event.target.value)} value={currentVersion.title} className=\"form-control\" /> */}\r\n                    </div>\r\n                    <div className=\"mb-3 d-flex col-md-4 justify-content-between\">\r\n                        <label for=\"author\" className=\"form-label \">Auteur :</label>\r\n                        <input type=\"text\" id=\"author\" onChange={(event) => setInputAuthor(event.target.value)} value={inputAuthor} className=\"form-control\" />\r\n                        {/* <input type=\"text\" id=\"author\" onChange={(event) => setInputAuthor(event.target.value)} value={currentVersion.author} className=\"form-control\" /> */}\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"mb-3 d-flex justify-content-between\">\r\n                        <label for=\"text\" className=\"form-label \">Markdown :</label>\r\n                        <textarea id=\"text\" onChange={(event) => setInputText(event.target.value)} value={inputText} className=\"form-control\"></textarea>\r\n                        {/* <textarea id=\"text\" onChange={(event) => setInputText(event.target.value)} value={currentVersion.text} className=\"form-control\"></textarea> */}\r\n                    </div>\r\n                </div>\r\n                {/* <input type=\"text\" id=\"catID\" value={cat._id} className=\"form-control invisible\" /> */}\r\n                <div className=\"mb-3 d-flex justify-content-center\">\r\n\r\n                    <button type=\"submit\" className=\"btn btn-primary\" onClick={submitEditArticle} >Modifier</button>\r\n\r\n\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default EditArticleForm;","import logo from './logo.svg';\r\nimport React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport CategoriesList from './components/CategoriesList';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport ArticlesListByCat from './components/ArticlesListByCat';\r\nimport Home from './components/Home';\r\nimport EditArticleForm from './components/EditArticleForm';\r\n\r\n\r\n\r\nfunction App() {\r\n  const [elements, setElements] = useState([]);\r\n  const [articles, setArticles] = useState([]);\r\n  var url = window.location.href;\r\n  var isCategoryPage = url.includes('category');\r\n  var isArticlePage = url.includes('article/edit');\r\n  var slug = '';\r\n  var articleToEdit = '';\r\n  var array = url.split(\"/\");\r\n  if (isCategoryPage == true) {\r\n    slug = array.pop();\r\n  } else if (isArticlePage == true) {\r\n    articleToEdit = array.pop();\r\n  }\r\n  useEffect(() => {\r\n    getCategory();\r\n  }, []);\r\n\r\n  const getCategory = async () => {\r\n    var response = await fetch('http://localhost:5000/categories/');\r\n    var data = await response.json();\r\n    setElements(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getArticles();\r\n  }, []);\r\n\r\n  const getArticles = async () => {\r\n    var response = await fetch('http://localhost:5000/articles/');\r\n    var data = await response.json();\r\n    setArticles(data);\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"App container\">\r\n      <Router>\r\n        <header >\r\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n          <ul className=\"nav justify-content-center\">\r\n            <li className=\"nav-item\"><a href=\"/\" className=\"nav-link\">Accueil</a></li>\r\n            <li className=\"nav-item\" ><Link to=\"/categories-list\" className=\"nav-link\">Liste</Link></li>\r\n          </ul>\r\n        </header>\r\n        <Switch>\r\n          {/* <Route path=\"/home\" exact>\r\n            <Home/>\r\n          </Route> */}\r\n          <Route path=\"/categories-list\" exact>\r\n            <CategoriesList elements={elements} setElements={setElements} />\r\n          </Route>\r\n          {elements.map(category => (\r\n            <Route path={\"/category/\" + category.slug} exact>\r\n              <ArticlesListByCat elements={elements} category={category} />\r\n            </Route>\r\n          ))}\r\n\r\n          {articles.map(article => (\r\n            <Route path={\"/article/edit/\" + article._id} exact>\r\n              <h2>Modifier Article</h2>\r\n              <EditArticleForm article={article} />\r\n            </Route>\r\n          ))}\r\n\r\n\r\n        </Switch>\r\n      </Router>\r\n      {/* {(slug!=\"\")? <ArticlesListByCat elements={elements} />  : ''} */}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n// class App extends Component {\r\n//   constructor() {\r\n//     super();\r\n//     this.state = { categories: [] };\r\n//   }\r\n\r\n//   componentDidMount() {\r\n//     fetch('http://localhost:5000/categories/')\r\n//     // fetch('https://reqres.in/api/users')\r\n//       .then(response => response.json())\r\n//       .then(json => this.setState({ categories: json.data }));\r\n//   }\r\n\r\n//   render() {\r\n//     return (\r\n//       <div>\r\n//         <h1>Categories</h1>\r\n//         {\r\n//           this.state.categories.length == 0\r\n//             ? 'Loading users...'\r\n//             : this.state.categories.map(category => (\r\n//               // <figure key={category.id}>\r\n//               //   <img src={category.avatar} />\r\n//               //   <figcaption>\r\n//               //     {user.first_name} {user.last_name}\r\n//               //   </figcaption>\r\n//               // </figure>\r\n//               <p>{category.name}</p>\r\n//             ))\r\n//         }\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}
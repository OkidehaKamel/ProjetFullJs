(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{102:function(e,t,c){},104:function(e,t,c){},234:function(e,t,c){"use strict";c.r(t);var r=c(3),n=c.n(r),s=c(95),a=c.n(s),i=(c(102),c(20)),l=c.n(i),o=c(28),j=c(4),d=c.p+"static/media/logo.6ce24c58.svg",u=(c(104),c(39)),b=c(16),m=c.n(b),h=c(21),x=c.n(h),f=c(0);var O=function(e){var t=e.elements,c=e.setElements,n=Object(r.useState)(""),s=Object(j.a)(n,2),a=s[0],i=s[1],l=Object(r.useState)(""),o=Object(j.a)(l,2),d=o[0],b=o[1];return Object(f.jsx)("div",{children:Object(f.jsxs)("form",{id:"formList",className:"d-flex",children:[Object(f.jsxs)("div",{className:"mb-3 d-flex col-md-5 justify-content-around",children:[Object(f.jsx)("label",{for:"name",className:"form-label ",children:"Nom :"}),Object(f.jsx)("input",{type:"text",id:"name",onChange:function(e){return i(e.target.value)},value:a,className:"form-control"})]}),Object(f.jsxs)("div",{className:"mb-3 d-flex col-md-5 justify-content-around",children:[Object(f.jsx)("label",{for:"image",className:"form-label ",children:"Image :"}),Object(f.jsx)("input",{type:"text",id:"image",onChange:function(e){return b(e.target.value)},value:d,className:"form-control"})]}),Object(f.jsx)("div",{className:"mb-3 d-flex col-md-2",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(e){if(e.preventDefault(),""===a)alert("Veuillez entrer un nom de cat\xe9gorie");else if(t.filter((function(e){return e.name==a})).length>0)alert("Cette cat\xe9gorie existe d\xe9j\xe0");else{c([].concat(Object(u.a)(t),[{name:a,image:d}]));var r={name:a,image:d,slug:x()(a)};m.a.post("/categories/new",r).then((function(e){return console.log(e.data)})),i(""),b("")}},children:"Ajouter"})})]})})};var p=function(e){var t=e.elements,c=e.setElements,n=Object(r.useState)(""),s=Object(j.a)(n,2);return s[0],s[1],Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{className:"mb-5",children:"Liste des cat\xe9gories :"}),Object(f.jsx)("div",{className:"d-flex flex-wrap bg-light rounded p-5",children:t.length>0?t.map((function(e){return Object(f.jsx)("a",{href:"/category/"+e.slug,className:"linkCat",children:Object(f.jsxs)("figure",{className:"cat",children:[Object(f.jsx)("img",{src:e.image,alt:e.name}),Object(f.jsx)("figcaption",{children:e.name})]},e.id)})})):Object(f.jsx)("p",{children:"Il n'y a pas encore de cat\xe9gories"})}),Object(f.jsx)("h4",{className:"mb-5",children:"Ajouter une cat\xe9gorie"}),Object(f.jsx)(O,{elements:t,setElements:c})]})},v=c(50),g=c(5);var N=function(e){var t=e.category,c=e.articles,n=e.setArticles,s=Object(r.useState)(""),a=Object(j.a)(s,2),i=a[0],l=a[1],o=Object(r.useState)(""),d=Object(j.a)(o,2),b=d[0],h=d[1],O=Object(r.useState)(""),p=Object(j.a)(O,2),v=p[0],g=p[1],N=Object(r.useState)(""),y=Object(j.a)(N,2),w=y[0],k=y[1];return Object(f.jsx)("div",{children:Object(f.jsxs)("form",{id:"formListArticle",className:"",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"mb-3 d-flex col-md-8 justify-content-between",children:[Object(f.jsx)("label",{for:"title",className:"form-label ",children:"Titre :"}),Object(f.jsx)("input",{type:"text",id:"title",onChange:function(e){return l(e.target.value)},value:i,className:"form-control"})]}),Object(f.jsxs)("div",{className:"mb-3 d-flex col-md-4 justify-content-between",children:[Object(f.jsx)("label",{for:"author",className:"form-label ",children:"Auteur :"}),Object(f.jsx)("input",{type:"text",id:"author",onChange:function(e){return h(e.target.value)},value:b,className:"form-control"})]})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"mb-3 d-flex justify-content-between",children:[Object(f.jsx)("label",{for:"text",className:"form-label ",children:"Markdown :"}),Object(f.jsx)("textarea",{id:"text",onChange:function(e){return g(e.target.value)},value:v,className:"form-control"})]})}),Object(f.jsx)("div",{className:"mb-3 d-flex justify-content-center",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(e){if(e.preventDefault(),""===i)alert("Veuillez entrer un titre");else{k({title:i,author:b,text:v}),n([].concat(Object(u.a)(c),[{title:i,author:b,text:v,categoryid:t._id,version:w}]));var r={title:i,author:b,text:v,categoryid:t._id,slug:x()(i),version:{title:i,author:b,text:v,slug:x()(i)}};m.a.post("/articles/new",r).then((function(e){return console.log(e.data)})),l(""),h(""),g(""),window.location.href="/category/"+t.name}},children:"Ajouter"})})]})})},y=c(96),w=c.n(y),k=c(49),C=c(27);var S=function(e){var t=e.article,c=t.version[t.version.length-1],n=Object(r.useState)(c),s=Object(j.a)(n,2),a=s[0],i=s[1],l=t.version;return console.log(l),Object(f.jsxs)("div",{className:"border border-secondary rounded",children:[Object(f.jsx)("h2",{className:"text-start title",children:a.title}),Object(f.jsxs)("div",{className:"d-flex",children:[Object(f.jsx)("div",{className:"markdown col-md-9 p-2",children:Object(f.jsx)(w.a,{children:a.text})}),Object(f.jsxs)("div",{className:"col-md-3 border-start",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-around mb-2",children:[Object(f.jsx)("a",{className:"btn btn-info",href:"/article/edit/"+t._id,children:"Editer"}),Object(f.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(e){m.a.delete("/articles/"+t._id),document.location.reload()},children:"Supprimer"})]}),Object(f.jsxs)("div",{className:"border border-1 rounded-top",children:[Object(f.jsx)("h6",{className:"mt-2",children:"Archives"}),Object(f.jsx)("ul",{className:"list-group",children:l.length>0?l.map((function(e){return Object(f.jsxs)("li",{className:"d-flex list-group-item justify-content-between",children:[Object(f.jsxs)("span",{className:"text-left",children:["V.",l.indexOf(e)," - ",e.title]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("a",{href:"#",onClick:function(){return i(e),void document.location.reload()},className:"mx-2",title:"Voir",children:Object(f.jsx)(k.a,{icon:C.b})}),Object(f.jsx)("a",{href:"#",onClick:function(){return c=e,void m.a.put("/articles/edit/"+t._id,c).then((function(e){document.location.reload()}));var c},className:"mx-2",title:"Restaurer",children:Object(f.jsx)(k.a,{icon:C.a})})]})]})})):Object(f.jsx)("li",{children:"Pas de version ant\xe9rieure"})})]})]})]})]})};var A=function(e){e.elements;var t=e.category,c=Object(r.useState)([]),n=Object(j.a)(c,2),s=n[0],a=n[1];Object(r.useEffect)((function(){i()}),[]);var i=function(){var e=Object(o.a)(l.a.mark((function e(){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/articles/"+t._id);case 2:return c=e.sent,e.next=5,c.json();case 5:r=(r=e.sent).reverse(),a(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:t.name}),Object(f.jsx)("figure",{children:Object(f.jsx)("img",{className:"catImage",src:t.image,alt:t.name})},t.id),Object(f.jsxs)("div",{children:[s.length>0?s.map((function(e){return Object(f.jsx)(S,{article:e})})):Object(f.jsx)("p",{children:"Il n'y a pas encore d'article dans cette cat\xe9gorie"}),Object(f.jsx)("h4",{children:"Ajouter un article"}),Object(f.jsx)(N,{category:t,articles:s,setArticles:a})]})]})};var L=function(e){return e.slug,Object(f.jsxs)("div",{className:"home",children:[Object(f.jsx)("h2",{className:"text-center",children:"Accueil"}),Object(f.jsx)("h6",{children:"Contexte"}),Object(f.jsx)("p",{children:"Dans ce projet vous devrez cr\xe9er une application web en Fullstack JS."}),Object(f.jsx)("p",{children:"La partie back devra se faire en NodeJS et MongoDB. La partie Front sous React."}),Object(f.jsx)("p",{children:"Le projet se fait par groupe de 2, vous travaillerez sur Github et vous devrez nous donner l\u2019url de votre projet comme remise de devoir."}),Object(f.jsx)("h6",{children:"Sujet"}),Object(f.jsx)("p",{children:"Vous \xeates charg\xe9s de cr\xe9er un outil de travail collaboratif permettant la cr\xe9ation, la modification et l\u2019illustration de pages web dans une structure centralis\xe9e - aussi nomm\xe9 un Wiki ;)"}),Object(f.jsx)("p",{children:"Vous devez g\xe9rer \xe0 minima :"}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"l\u2019ajout, la modification, la suppression d\u2019articles"}),Object(f.jsx)("li",{children:"La cat\xe9gorisation des articles (Ex: faire une page qui centralise toutes les cat\xe9gories et afficher la liste des articles correspondants au clic de celle-ci)"}),Object(f.jsx)("li",{children:"La possibilit\xe9 de rajouter des tags sur les articles"}),Object(f.jsx)("li",{children:"La recherche d\u2019articles (par tag, par titre)"}),Object(f.jsx)("li",{children:"Le versionning : historisation des versions d\u2019un article, restauration de version Documentation"})]}),Object(f.jsx)("p",{children:"Vous devrez dans un premier temps d\xe9finir le contrat d\u2019interface entre le back-office et le front-office et vous le reseignerez dans le README.md de votre projet git"}),Object(f.jsx)("p",{children:"Ce fichier readme servira de documentation au projet."}),Object(f.jsx)("p",{children:"La documentation doit contenir plusieurs points :"}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"Descriptif g\xe9n\xe9ral"}),Object(f.jsx)("li",{children:"Descriptif des fonctionnalit\xe9s d\xe9velopp\xe9es"}),Object(f.jsx)("li",{children:"Manuel d\u2019installation"}),Object(f.jsx)("li",{children:"Documentation API"})]}),Object(f.jsx)("h6",{children:"Back-office"}),Object(f.jsx)("p",{children:"Le back-office devra \xeatre r\xe9alis\xe9 en Node.js. Les donn\xe9es seront enregistr\xe9es dans une base mongoDB."}),Object(f.jsx)("p",{children:"Par d\xe9faut la base sera vide, Vous pouvez pr\xe9voir une api qui effectuera un traitement pour l\u2019initialiser."}),", par exemple : GET /api/v1/setup",Object(f.jsx)("p",{children:"La documentation devra pr\xe9ciser comment initialiser le projet."}),Object(f.jsx)("p",{children:"Vous \xeates libre sur la structure documentaire \xe0 utiliser pour arriver \xe0 vos fins."}),Object(f.jsx)("h6",{children:"Front-office"}),Object(f.jsx)("p",{children:"Le front devra \xeatre r\xe9alis\xe9 avec React. Vous devrez r\xe9aliser diff\xe9rents composants pour faire votre interface."}),Object(f.jsx)("p",{children:"Vous pouvez utiliser Axios (\xe0 installer) ou fetch (nativement inclus avec React) pour requ\xeater l\u2019api."}),Object(f.jsx)("p",{children:"Bar\xe8me d\u2019\xe9valuation"}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"Documentation (3 pts)"}),Object(f.jsx)("li",{children:"Design et ergonomie (3 pts)"}),Object(f.jsx)("li",{children:"Back-office (7 pts)"}),Object(f.jsx)("li",{children:"Front-office (7 pts)"})]})]})};var D=function(e){e.category,e.articles,e.setArticles;var t=e.article,c=Object(r.useState)(t.version.pop()),n=Object(j.a)(c,2),s=n[0],a=n[1],i=Object(r.useState)(s.title),l=Object(j.a)(i,2),o=l[0],d=l[1],u=Object(r.useState)(s.author),b=Object(j.a)(u,2),h=b[0],O=b[1],p=Object(r.useState)(s.text),v=Object(j.a)(p,2),g=v[0],N=v[1];return Object(f.jsx)("div",{children:Object(f.jsxs)("form",{id:"formListArticle",className:"",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"mb-3 d-flex col-md-8 justify-content-between",children:[Object(f.jsx)("label",{for:"title",className:"form-label ",children:"Titre :"}),Object(f.jsx)("input",{type:"text",id:"title",onChange:function(e){return d(e.target.value)},value:o,className:"form-control"})]}),Object(f.jsxs)("div",{className:"mb-3 d-flex col-md-4 justify-content-between",children:[Object(f.jsx)("label",{for:"author",className:"form-label ",children:"Auteur :"}),Object(f.jsx)("input",{type:"text",id:"author",onChange:function(e){return O(e.target.value)},value:h,className:"form-control"})]})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"mb-3 d-flex justify-content-between",children:[Object(f.jsx)("label",{for:"text",className:"form-label ",children:"Markdown :"}),Object(f.jsx)("textarea",{id:"text",onChange:function(e){return N(e.target.value)},value:g,className:"form-control"})]})}),Object(f.jsx)("div",{className:"mb-3 d-flex justify-content-center",children:Object(f.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){e.preventDefault(),a({title:o,author:h,text:g});var c={title:o,author:h,text:g,slug:x()(o)};a(c),m.a.put("/articles/edit/"+t._id,c).then((function(e){window.history.back()}))},children:"Modifier"})})]})})};var E=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],s=Object(r.useState)([]),a=Object(j.a)(s,2),i=a[0],u=a[1],b=window.location.href,m=b.includes("category"),h=b.includes("article/edit"),x=b.split("/");1==m?x.pop():1==h&&x.pop(),Object(r.useEffect)((function(){O()}),[]);var O=function(){var e=Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/categories/");case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,n(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){N()}),[]);var N=function(){var e=Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/articles/");case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,u(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"App container",children:Object(f.jsxs)(v.a,{children:[Object(f.jsxs)("header",{children:[Object(f.jsx)("img",{src:d,className:"App-logo",alt:"logo"}),Object(f.jsxs)("ul",{className:"nav justify-content-center",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)("a",{href:"/home",className:"nav-link",children:"Accueil"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(v.b,{to:"/categories-list",className:"nav-link",children:"Liste"})})]})]}),Object(f.jsxs)(g.c,{children:[Object(f.jsx)(g.a,{path:"/home",exact:!0,children:Object(f.jsx)(L,{})}),Object(f.jsx)(g.a,{path:"/",exact:!0,children:Object(f.jsx)(L,{})}),Object(f.jsx)(g.a,{path:"/categories-list",exact:!0,children:Object(f.jsx)(p,{elements:c,setElements:n})}),c.map((function(e){return Object(f.jsx)(g.a,{path:"/category/"+e.slug,exact:!0,children:Object(f.jsx)(A,{elements:c,category:e})})})),i.map((function(e){return Object(f.jsxs)(g.a,{path:"/article/edit/"+e._id,exact:!0,children:[Object(f.jsx)("h2",{children:"Modifier Article"}),Object(f.jsx)(D,{article:e})]})}))]})]})})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,235)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),r(e),n(e),s(e),a(e)}))};c(233);a.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(E,{})}),document.getElementById("root")),z()}},[[234,1,2]]]);
//# sourceMappingURL=main.5fc2b422.chunk.js.map